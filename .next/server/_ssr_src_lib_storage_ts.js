"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_storage_ts";
exports.ids = ["_ssr_src_lib_storage_ts"];
exports.modules = {

/***/ "(ssr)/./src/lib/storage.ts":
/*!****************************!*\
  !*** ./src/lib/storage.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callbackStorage: () => (/* binding */ callbackStorage)\n/* harmony export */ });\n// Ïù∏Î©îÎ™®Î¶¨ ÏΩúÎ∞± Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•ÏÜå\nclass CallbackStorage {\n    // ÏÉà ÏûëÏóÖ Îì±Î°ù\n    registerTask(taskId) {\n        const taskData = {\n            taskId,\n            status: \"pending\",\n            createdAt: new Date()\n        };\n        console.log(\"\\uD83D\\uDD35 BEFORE registration - Storage size:\", this.storage.size);\n        console.log(\"\\uD83D\\uDD35 BEFORE registration - All tasks:\", Array.from(this.storage.keys()));\n        this.storage.set(taskId, taskData);\n        console.log(\"\\uD83D\\uDCDD Registered task:\", taskId, \"Storage size:\", this.storage.size);\n        console.log(\"\\uD83D\\uDCCB Task data:\", taskData);\n        console.log(\"\\uD83D\\uDFE2 AFTER registration - All tasks:\", Array.from(this.storage.keys()));\n        // Îì±Î°ù ÏßÅÌõÑ Î∞îÎ°ú ÌôïÏù∏\n        const verified = this.storage.get(taskId);\n        console.log(\"‚úÖ Verification - task exists:\", !!verified);\n        console.log(\"\\uD83D\\uDD0D Storage instance ID:\", this.constructor.name, this);\n    }\n    // ÏΩúÎ∞± Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•\n    saveCallback(taskId, callbackData) {\n        const existing = this.storage.get(taskId);\n        if (!existing) {\n            console.warn(\"‚ö†Ô∏è Callback received for unknown task:\", taskId);\n            // ÎØ∏Îì±Î°ù ÏûëÏóÖÎèÑ Ï†ÄÏû•\n            this.storage.set(taskId, {\n                taskId,\n                status: \"pending\",\n                createdAt: new Date()\n            });\n        }\n        // ÏΩúÎ∞± Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ Î∂ÑÏÑù Î∞è Ï†ÄÏû•\n        const updated = {\n            ...existing,\n            taskId,\n            rawData: callbackData,\n            completedAt: new Date()\n        };\n        // Suno API ÏùëÎãµ Íµ¨Ï°∞Ïóê Îî∞Î•∏ Îç∞Ïù¥ÌÑ∞ Ï∂îÏ∂ú\n        if (callbackData.audio_url || callbackData.audioUrl) {\n            updated.audioUrl = callbackData.audio_url || callbackData.audioUrl;\n            updated.status = \"completed\";\n        }\n        if (callbackData.title) {\n            updated.title = callbackData.title;\n        }\n        if (callbackData.duration) {\n            updated.duration = callbackData.duration;\n        }\n        if (callbackData.image_url || callbackData.imageUrl) {\n            updated.imageUrl = callbackData.image_url || callbackData.imageUrl;\n        }\n        // ÏóêÎü¨ Ï≤òÎ¶¨\n        if (callbackData.error || callbackData.status === \"error\") {\n            updated.status = \"failed\";\n            updated.error = callbackData.error || \"Unknown error\";\n        }\n        this.storage.set(taskId, updated);\n        console.log(\"\\uD83D\\uDCBE Saved callback data for task:\", taskId, updated);\n    }\n    // Í≤∞Í≥º Ï°∞Ìöå\n    getResult(taskId) {\n        return this.storage.get(taskId) || null;\n    }\n    // Î™®Îì† ÏûëÏóÖ Ï°∞Ìöå (ÎîîÎ≤ÑÍπÖÏö©)\n    getAllTasks() {\n        console.log(\"\\uD83D\\uDD0D getAllTasks called - Storage size:\", this.storage.size);\n        console.log(\"\\uD83D\\uDD0D getAllTasks - All task IDs:\", Array.from(this.storage.keys()));\n        console.log(\"\\uD83D\\uDD0D Storage instance ID:\", this.constructor.name, this);\n        return Array.from(this.storage.values());\n    }\n    // ÏôÑÎ£åÎêú ÏûëÏóÖÎßå Ï°∞Ìöå\n    getCompletedTasks() {\n        return Array.from(this.storage.values()).filter((task)=>task.status === \"completed\");\n    }\n    // Ïò§ÎûòÎêú ÏûëÏóÖ Ï†ïÎ¶¨ (Î©îÎ™®Î¶¨ Í¥ÄÎ¶¨)\n    cleanup(maxAgeHours = 24) {\n        const cutoff = new Date(Date.now() - maxAgeHours * 60 * 60 * 1000);\n        let deleted = 0;\n        for (const [taskId, data] of this.storage.entries()){\n            if (data.createdAt < cutoff) {\n                this.storage.delete(taskId);\n                deleted++;\n            }\n        }\n        if (deleted > 0) {\n            console.log(`üßπ Cleaned up ${deleted} old tasks`);\n        }\n        return deleted;\n    }\n    constructor(){\n        this.storage = new Map();\n    }\n}\nlet callbackStorageInstance;\nif (typeof globalThis !== \"undefined\") {\n    if (!globalThis.__musicAppCallbackStorage) {\n        globalThis.__musicAppCallbackStorage = new CallbackStorage();\n        console.log(\"\\uD83D\\uDD27 Created NEW CallbackStorage instance (global)\");\n    } else {\n        console.log(\"\\uD83D\\uDD04 Using EXISTING CallbackStorage instance (global)\");\n    }\n    callbackStorageInstance = globalThis.__musicAppCallbackStorage;\n} else {\n    callbackStorageInstance = new CallbackStorage();\n    console.log(\"\\uD83D\\uDD27 Created NEW CallbackStorage instance (local)\");\n}\nconst callbackStorage = callbackStorageInstance;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3N0b3JhZ2UudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGtCQUFrQjtBQWNsQixNQUFNQTtJQUdKLFVBQVU7SUFDVkMsYUFBYUMsTUFBYyxFQUFRO1FBQ2pDLE1BQU1DLFdBQVc7WUFDZkQ7WUFDQUUsUUFBUTtZQUNSQyxXQUFXLElBQUlDO1FBQ2pCO1FBRUFDLFFBQVFDLEdBQUcsQ0FBQyxvREFBMEMsSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUk7UUFDdkVILFFBQVFDLEdBQUcsQ0FBQyxpREFBdUNHLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUNILE9BQU8sQ0FBQ0ksSUFBSTtRQUUvRSxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDWixRQUFRQztRQUV6QkksUUFBUUMsR0FBRyxDQUFDLGlDQUF1Qk4sUUFBUSxpQkFBaUIsSUFBSSxDQUFDTyxPQUFPLENBQUNDLElBQUk7UUFDN0VILFFBQVFDLEdBQUcsQ0FBQywyQkFBaUJMO1FBQzdCSSxRQUFRQyxHQUFHLENBQUMsZ0RBQXNDRyxNQUFNQyxJQUFJLENBQUMsSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUk7UUFFOUUsY0FBYztRQUNkLE1BQU1FLFdBQVcsSUFBSSxDQUFDTixPQUFPLENBQUNPLEdBQUcsQ0FBQ2Q7UUFDbENLLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDTztRQUMvQ1IsUUFBUUMsR0FBRyxDQUFDLHFDQUEyQixJQUFJLENBQUNTLFdBQVcsQ0FBQ0MsSUFBSSxFQUFFLElBQUk7SUFDcEU7SUFFQSxZQUFZO0lBQ1pDLGFBQWFqQixNQUFjLEVBQUVrQixZQUFpQixFQUFRO1FBQ3BELE1BQU1DLFdBQVcsSUFBSSxDQUFDWixPQUFPLENBQUNPLEdBQUcsQ0FBQ2Q7UUFDbEMsSUFBSSxDQUFDbUIsVUFBVTtZQUNiZCxRQUFRZSxJQUFJLENBQUMsMENBQTBDcEI7WUFDdkQsYUFBYTtZQUNiLElBQUksQ0FBQ08sT0FBTyxDQUFDSyxHQUFHLENBQUNaLFFBQVE7Z0JBQ3ZCQTtnQkFDQUUsUUFBUTtnQkFDUkMsV0FBVyxJQUFJQztZQUNqQjtRQUNGO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU1pQixVQUF3QjtZQUM1QixHQUFHRixRQUFRO1lBQ1huQjtZQUNBc0IsU0FBU0o7WUFDVEssYUFBYSxJQUFJbkI7UUFDbkI7UUFFQSw0QkFBNEI7UUFDNUIsSUFBSWMsYUFBYU0sU0FBUyxJQUFJTixhQUFhTyxRQUFRLEVBQUU7WUFDbkRKLFFBQVFJLFFBQVEsR0FBR1AsYUFBYU0sU0FBUyxJQUFJTixhQUFhTyxRQUFRO1lBQ2xFSixRQUFRbkIsTUFBTSxHQUFHO1FBQ25CO1FBRUEsSUFBSWdCLGFBQWFRLEtBQUssRUFBRTtZQUN0QkwsUUFBUUssS0FBSyxHQUFHUixhQUFhUSxLQUFLO1FBQ3BDO1FBRUEsSUFBSVIsYUFBYVMsUUFBUSxFQUFFO1lBQ3pCTixRQUFRTSxRQUFRLEdBQUdULGFBQWFTLFFBQVE7UUFDMUM7UUFFQSxJQUFJVCxhQUFhVSxTQUFTLElBQUlWLGFBQWFXLFFBQVEsRUFBRTtZQUNuRFIsUUFBUVEsUUFBUSxHQUFHWCxhQUFhVSxTQUFTLElBQUlWLGFBQWFXLFFBQVE7UUFDcEU7UUFFQSxRQUFRO1FBQ1IsSUFBSVgsYUFBYVksS0FBSyxJQUFJWixhQUFhaEIsTUFBTSxLQUFLLFNBQVM7WUFDekRtQixRQUFRbkIsTUFBTSxHQUFHO1lBQ2pCbUIsUUFBUVMsS0FBSyxHQUFHWixhQUFhWSxLQUFLLElBQUk7UUFDeEM7UUFFQSxJQUFJLENBQUN2QixPQUFPLENBQUNLLEdBQUcsQ0FBQ1osUUFBUXFCO1FBQ3pCaEIsUUFBUUMsR0FBRyxDQUFDLDhDQUFvQ04sUUFBUXFCO0lBQzFEO0lBRUEsUUFBUTtJQUNSVSxVQUFVL0IsTUFBYyxFQUF1QjtRQUM3QyxPQUFPLElBQUksQ0FBQ08sT0FBTyxDQUFDTyxHQUFHLENBQUNkLFdBQVc7SUFDckM7SUFFQSxrQkFBa0I7SUFDbEJnQyxjQUE4QjtRQUM1QjNCLFFBQVFDLEdBQUcsQ0FBQyxtREFBeUMsSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUk7UUFDdEVILFFBQVFDLEdBQUcsQ0FBQyw0Q0FBa0NHLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUNILE9BQU8sQ0FBQ0ksSUFBSTtRQUMxRU4sUUFBUUMsR0FBRyxDQUFDLHFDQUEyQixJQUFJLENBQUNTLFdBQVcsQ0FBQ0MsSUFBSSxFQUFFLElBQUk7UUFDbEUsT0FBT1AsTUFBTUMsSUFBSSxDQUFDLElBQUksQ0FBQ0gsT0FBTyxDQUFDMEIsTUFBTTtJQUN2QztJQUVBLGFBQWE7SUFDYkMsb0JBQW9DO1FBQ2xDLE9BQU96QixNQUFNQyxJQUFJLENBQUMsSUFBSSxDQUFDSCxPQUFPLENBQUMwQixNQUFNLElBQUlFLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS2xDLE1BQU0sS0FBSztJQUMxRTtJQUVBLHFCQUFxQjtJQUNyQm1DLFFBQVFDLGNBQXNCLEVBQUUsRUFBVTtRQUN4QyxNQUFNQyxTQUFTLElBQUluQyxLQUFLQSxLQUFLb0MsR0FBRyxLQUFLRixjQUFjLEtBQUssS0FBSztRQUM3RCxJQUFJRyxVQUFVO1FBRWQsS0FBSyxNQUFNLENBQUN6QyxRQUFRMEMsS0FBSyxJQUFJLElBQUksQ0FBQ25DLE9BQU8sQ0FBQ29DLE9BQU8sR0FBSTtZQUNuRCxJQUFJRCxLQUFLdkMsU0FBUyxHQUFHb0MsUUFBUTtnQkFDM0IsSUFBSSxDQUFDaEMsT0FBTyxDQUFDcUMsTUFBTSxDQUFDNUM7Z0JBQ3BCeUM7WUFDRjtRQUNGO1FBRUEsSUFBSUEsVUFBVSxHQUFHO1lBQ2ZwQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQUVtQyxRQUFRLFVBQVUsQ0FBQztRQUNsRDtRQUVBLE9BQU9BO0lBQ1Q7O2FBN0dRbEMsVUFBVSxJQUFJc0M7O0FBOEd4QjtBQU9BLElBQUlDO0FBRUosSUFBSSxPQUFPQyxlQUFlLGFBQWE7SUFDckMsSUFBSSxDQUFDQSxXQUFXQyx5QkFBeUIsRUFBRTtRQUN6Q0QsV0FBV0MseUJBQXlCLEdBQUcsSUFBSWxEO1FBQzNDTyxRQUFRQyxHQUFHLENBQUM7SUFDZCxPQUFPO1FBQ0xELFFBQVFDLEdBQUcsQ0FBQztJQUNkO0lBQ0F3QywwQkFBMEJDLFdBQVdDLHlCQUF5QjtBQUNoRSxPQUFPO0lBQ0xGLDBCQUEwQixJQUFJaEQ7SUFDOUJPLFFBQVFDLEdBQUcsQ0FBQztBQUNkO0FBRU8sTUFBTTJDLGtCQUFrQkgsd0JBQXdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZW1vdGlvbi1tdXNpYy1nZW5lcmF0b3IvLi9zcmMvbGliL3N0b3JhZ2UudHM/YWZlOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDsnbjrqZTrqqjrpqwg7L2c67CxIOuNsOydtO2EsCDsoIDsnqXshoxcbmludGVyZmFjZSBDYWxsYmFja0RhdGEge1xuICB0YXNrSWQ6IHN0cmluZztcbiAgYXVkaW9Vcmw/OiBzdHJpbmc7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgaW1hZ2VVcmw/OiBzdHJpbmc7XG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZmFpbGVkJztcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICBjb21wbGV0ZWRBdD86IERhdGU7XG4gIGVycm9yPzogc3RyaW5nO1xuICByYXdEYXRhPzogYW55O1xufVxuXG5jbGFzcyBDYWxsYmFja1N0b3JhZ2Uge1xuICBwcml2YXRlIHN0b3JhZ2UgPSBuZXcgTWFwPHN0cmluZywgQ2FsbGJhY2tEYXRhPigpO1xuXG4gIC8vIOyDiCDsnpHsl4Ug65Ox66GdXG4gIHJlZ2lzdGVyVGFzayh0YXNrSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHRhc2tEYXRhID0ge1xuICAgICAgdGFza0lkLFxuICAgICAgc3RhdHVzOiAncGVuZGluZycgYXMgY29uc3QsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5S1IEJFRk9SRSByZWdpc3RyYXRpb24gLSBTdG9yYWdlIHNpemU6JywgdGhpcy5zdG9yYWdlLnNpemUpO1xuICAgIGNvbnNvbGUubG9nKCfwn5S1IEJFRk9SRSByZWdpc3RyYXRpb24gLSBBbGwgdGFza3M6JywgQXJyYXkuZnJvbSh0aGlzLnN0b3JhZ2Uua2V5cygpKSk7XG4gICAgXG4gICAgdGhpcy5zdG9yYWdlLnNldCh0YXNrSWQsIHRhc2tEYXRhKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+TnSBSZWdpc3RlcmVkIHRhc2s6JywgdGFza0lkLCAnU3RvcmFnZSBzaXplOicsIHRoaXMuc3RvcmFnZS5zaXplKTtcbiAgICBjb25zb2xlLmxvZygn8J+TiyBUYXNrIGRhdGE6JywgdGFza0RhdGEpO1xuICAgIGNvbnNvbGUubG9nKCfwn5+iIEFGVEVSIHJlZ2lzdHJhdGlvbiAtIEFsbCB0YXNrczonLCBBcnJheS5mcm9tKHRoaXMuc3RvcmFnZS5rZXlzKCkpKTtcbiAgICBcbiAgICAvLyDrk7HroZ0g7KeB7ZuEIOuwlOuhnCDtmZXsnbhcbiAgICBjb25zdCB2ZXJpZmllZCA9IHRoaXMuc3RvcmFnZS5nZXQodGFza0lkKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIFZlcmlmaWNhdGlvbiAtIHRhc2sgZXhpc3RzOicsICEhdmVyaWZpZWQpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFN0b3JhZ2UgaW5zdGFuY2UgSUQ6JywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCB0aGlzKTtcbiAgfVxuXG4gIC8vIOy9nOuwsSDrjbDsnbTthLAg7KCA7J6lXG4gIHNhdmVDYWxsYmFjayh0YXNrSWQ6IHN0cmluZywgY2FsbGJhY2tEYXRhOiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuc3RvcmFnZS5nZXQodGFza0lkKTtcbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBDYWxsYmFjayByZWNlaXZlZCBmb3IgdW5rbm93biB0YXNrOicsIHRhc2tJZCk7XG4gICAgICAvLyDrr7jrk7HroZ0g7J6R7JeF64+EIOyggOyepVxuICAgICAgdGhpcy5zdG9yYWdlLnNldCh0YXNrSWQsIHtcbiAgICAgICAgdGFza0lkLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDsvZzrsLEg642w7J207YSwIOq1rOyhsCDrtoTshJ0g67CPIOyggOyepVxuICAgIGNvbnN0IHVwZGF0ZWQ6IENhbGxiYWNrRGF0YSA9IHtcbiAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgdGFza0lkLFxuICAgICAgcmF3RGF0YTogY2FsbGJhY2tEYXRhLFxuICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9O1xuXG4gICAgLy8gU3VubyBBUEkg7J2R64u1IOq1rOyhsOyXkCDrlLDrpbgg642w7J207YSwIOy2lOy2nFxuICAgIGlmIChjYWxsYmFja0RhdGEuYXVkaW9fdXJsIHx8IGNhbGxiYWNrRGF0YS5hdWRpb1VybCkge1xuICAgICAgdXBkYXRlZC5hdWRpb1VybCA9IGNhbGxiYWNrRGF0YS5hdWRpb191cmwgfHwgY2FsbGJhY2tEYXRhLmF1ZGlvVXJsO1xuICAgICAgdXBkYXRlZC5zdGF0dXMgPSAnY29tcGxldGVkJztcbiAgICB9XG5cbiAgICBpZiAoY2FsbGJhY2tEYXRhLnRpdGxlKSB7XG4gICAgICB1cGRhdGVkLnRpdGxlID0gY2FsbGJhY2tEYXRhLnRpdGxlO1xuICAgIH1cblxuICAgIGlmIChjYWxsYmFja0RhdGEuZHVyYXRpb24pIHtcbiAgICAgIHVwZGF0ZWQuZHVyYXRpb24gPSBjYWxsYmFja0RhdGEuZHVyYXRpb247XG4gICAgfVxuXG4gICAgaWYgKGNhbGxiYWNrRGF0YS5pbWFnZV91cmwgfHwgY2FsbGJhY2tEYXRhLmltYWdlVXJsKSB7XG4gICAgICB1cGRhdGVkLmltYWdlVXJsID0gY2FsbGJhY2tEYXRhLmltYWdlX3VybCB8fCBjYWxsYmFja0RhdGEuaW1hZ2VVcmw7XG4gICAgfVxuXG4gICAgLy8g7JeQ65+sIOyymOumrFxuICAgIGlmIChjYWxsYmFja0RhdGEuZXJyb3IgfHwgY2FsbGJhY2tEYXRhLnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgdXBkYXRlZC5zdGF0dXMgPSAnZmFpbGVkJztcbiAgICAgIHVwZGF0ZWQuZXJyb3IgPSBjYWxsYmFja0RhdGEuZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgIH1cblxuICAgIHRoaXMuc3RvcmFnZS5zZXQodGFza0lkLCB1cGRhdGVkKTtcbiAgICBjb25zb2xlLmxvZygn8J+SviBTYXZlZCBjYWxsYmFjayBkYXRhIGZvciB0YXNrOicsIHRhc2tJZCwgdXBkYXRlZCk7XG4gIH1cblxuICAvLyDqsrDqs7wg7KGw7ZqMXG4gIGdldFJlc3VsdCh0YXNrSWQ6IHN0cmluZyk6IENhbGxiYWNrRGF0YSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRhc2tJZCkgfHwgbnVsbDtcbiAgfVxuXG4gIC8vIOuqqOuToCDsnpHsl4Ug7KGw7ZqMICjrlJTrsoTquYXsmqkpXG4gIGdldEFsbFRhc2tzKCk6IENhbGxiYWNrRGF0YVtdIHtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBnZXRBbGxUYXNrcyBjYWxsZWQgLSBTdG9yYWdlIHNpemU6JywgdGhpcy5zdG9yYWdlLnNpemUpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIGdldEFsbFRhc2tzIC0gQWxsIHRhc2sgSURzOicsIEFycmF5LmZyb20odGhpcy5zdG9yYWdlLmtleXMoKSkpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFN0b3JhZ2UgaW5zdGFuY2UgSUQ6JywgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLCB0aGlzKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN0b3JhZ2UudmFsdWVzKCkpO1xuICB9XG5cbiAgLy8g7JmE66OM65CcIOyekeyXheunjCDsobDtmoxcbiAgZ2V0Q29tcGxldGVkVGFza3MoKTogQ2FsbGJhY2tEYXRhW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc3RvcmFnZS52YWx1ZXMoKSkuZmlsdGVyKHRhc2sgPT4gdGFzay5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKTtcbiAgfVxuXG4gIC8vIOyYpOuemOuQnCDsnpHsl4Ug7KCV66asICjrqZTrqqjrpqwg6rSA66asKVxuICBjbGVhbnVwKG1heEFnZUhvdXJzOiBudW1iZXIgPSAyNCk6IG51bWJlciB7XG4gICAgY29uc3QgY3V0b2ZmID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIG1heEFnZUhvdXJzICogNjAgKiA2MCAqIDEwMDApO1xuICAgIGxldCBkZWxldGVkID0gMDtcblxuICAgIGZvciAoY29uc3QgW3Rhc2tJZCwgZGF0YV0gb2YgdGhpcy5zdG9yYWdlLmVudHJpZXMoKSkge1xuICAgICAgaWYgKGRhdGEuY3JlYXRlZEF0IDwgY3V0b2ZmKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZS5kZWxldGUodGFza0lkKTtcbiAgICAgICAgZGVsZXRlZCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkZWxldGVkID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYPCfp7kgQ2xlYW5lZCB1cCAke2RlbGV0ZWR9IG9sZCB0YXNrc2ApO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG59XG5cbi8vIOyghOyXrSDsi7HquIDthqQg7J247Iqk7YS07IqkIChOZXh0LmpzIOqwnOuwnCDtmZjqsr0g64yA7J2RKVxuZGVjbGFyZSBnbG9iYWwge1xuICB2YXIgX19tdXNpY0FwcENhbGxiYWNrU3RvcmFnZTogQ2FsbGJhY2tTdG9yYWdlIHwgdW5kZWZpbmVkO1xufVxuXG5sZXQgY2FsbGJhY2tTdG9yYWdlSW5zdGFuY2U6IENhbGxiYWNrU3RvcmFnZTtcblxuaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJykge1xuICBpZiAoIWdsb2JhbFRoaXMuX19tdXNpY0FwcENhbGxiYWNrU3RvcmFnZSkge1xuICAgIGdsb2JhbFRoaXMuX19tdXNpY0FwcENhbGxiYWNrU3RvcmFnZSA9IG5ldyBDYWxsYmFja1N0b3JhZ2UoKTtcbiAgICBjb25zb2xlLmxvZygn8J+UpyBDcmVhdGVkIE5FVyBDYWxsYmFja1N0b3JhZ2UgaW5zdGFuY2UgKGdsb2JhbCknKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBVc2luZyBFWElTVElORyBDYWxsYmFja1N0b3JhZ2UgaW5zdGFuY2UgKGdsb2JhbCknKTtcbiAgfVxuICBjYWxsYmFja1N0b3JhZ2VJbnN0YW5jZSA9IGdsb2JhbFRoaXMuX19tdXNpY0FwcENhbGxiYWNrU3RvcmFnZTtcbn0gZWxzZSB7XG4gIGNhbGxiYWNrU3RvcmFnZUluc3RhbmNlID0gbmV3IENhbGxiYWNrU3RvcmFnZSgpO1xuICBjb25zb2xlLmxvZygn8J+UpyBDcmVhdGVkIE5FVyBDYWxsYmFja1N0b3JhZ2UgaW5zdGFuY2UgKGxvY2FsKScpO1xufVxuXG5leHBvcnQgY29uc3QgY2FsbGJhY2tTdG9yYWdlID0gY2FsbGJhY2tTdG9yYWdlSW5zdGFuY2U7Il0sIm5hbWVzIjpbIkNhbGxiYWNrU3RvcmFnZSIsInJlZ2lzdGVyVGFzayIsInRhc2tJZCIsInRhc2tEYXRhIiwic3RhdHVzIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJzdG9yYWdlIiwic2l6ZSIsIkFycmF5IiwiZnJvbSIsImtleXMiLCJzZXQiLCJ2ZXJpZmllZCIsImdldCIsImNvbnN0cnVjdG9yIiwibmFtZSIsInNhdmVDYWxsYmFjayIsImNhbGxiYWNrRGF0YSIsImV4aXN0aW5nIiwid2FybiIsInVwZGF0ZWQiLCJyYXdEYXRhIiwiY29tcGxldGVkQXQiLCJhdWRpb191cmwiLCJhdWRpb1VybCIsInRpdGxlIiwiZHVyYXRpb24iLCJpbWFnZV91cmwiLCJpbWFnZVVybCIsImVycm9yIiwiZ2V0UmVzdWx0IiwiZ2V0QWxsVGFza3MiLCJ2YWx1ZXMiLCJnZXRDb21wbGV0ZWRUYXNrcyIsImZpbHRlciIsInRhc2siLCJjbGVhbnVwIiwibWF4QWdlSG91cnMiLCJjdXRvZmYiLCJub3ciLCJkZWxldGVkIiwiZGF0YSIsImVudHJpZXMiLCJkZWxldGUiLCJNYXAiLCJjYWxsYmFja1N0b3JhZ2VJbnN0YW5jZSIsImdsb2JhbFRoaXMiLCJfX211c2ljQXBwQ2FsbGJhY2tTdG9yYWdlIiwiY2FsbGJhY2tTdG9yYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/storage.ts\n");

/***/ })

};
;